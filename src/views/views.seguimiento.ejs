<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/seguimiento.css" />
    <title>Seguimiento de Movimientos</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
<div class="container">

    <!-- Navbar -->
    <nav class="navbar">
        <img src="/img/Trost_blanco.png" alt="Logo" class="logo">
        <div class="navbar-options">
            <select class="select" id="adminUsuario">
                <option><i class="fas fa-user-cog"></i> Admin-usuario</option>
                <option value="/usuario"><i class="fas fa-user-plus"></i> Crear usuarios</option>
            </select>
            <select class="select" id="bodegas">
                <option><i class="fas fa-warehouse"></i> Bodegas</option>
                <option value="/crear_bodega"><i class="fas fa-plus-circle"></i> Crear Bodegas</option>
                <option value="/seguimiento"><i class="fas fa-search"></i> Seguimiento Bodega</option>
                <option value="/inventario"><i class="fas fa-boxes"></i> Inventario de Bodegas</option>
            </select>
            <select class="select" id="historial">
                <option><i class="fas fa-history"></i> Historial</option>
                <option value="/historial"><i class="fas fa-list"></i> Lista de Historial</option>
                <option value="/logistica"><i class="fas fa-truck"></i> Producto en Logística</option>
            </select>
        </div>
    </nav>

    <!-- Contenido -->
    <main class="main-content">
        <header class="content-header">
            <h1><i class="fas fa-exchange-alt"></i> Movimientos entre Bodegas</h1>
            <button id="exportar-excel" class="export-button" title="Exportar a Excel">
                <i class="fas fa-file-excel"></i> Exportar
            </button>
        </header>

        <!-- Tarjeta de Filtros -->
        <div class="filter-card">
            <div class="filter-header">
                <h3><i class="fas fa-filter"></i> Filtros de Búsqueda</h3>
                <button id="limpiar-filtros" class="clear-button" title="Limpiar filtros">
                    <i class="fas fa-broom"></i> Limpiar
                </button>
            </div>
            
            <form id="filtro-fechas" class="filtro-form">
                <div class="form-group">
                    <label><i class="fas fa-warehouse"></i> Bodega:</label>
                    <select id="id_bodega" class="modern-select">
                        <option value="">Cargando bodegas...</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-barcode"></i> Código Inteligente:</label>
                    <input type="text" id="codigo_inteligente" placeholder="Ingrese código inteligente" class="modern-input">
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-calendar-start"></i> Fecha Inicio:</label>
                    <input type="date" id="fecha_inicio" class="modern-input">
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-calendar-end"></i> Fecha Fin:</label>
                    <input type="date" id="fecha_fin" class="modern-input">
                </div>
                
                <div class="form-group">
                    <button type="submit" class="search-button">
                        <i class="fas fa-search"></i> Buscar
                    </button>
                </div>
            </form>
        </div>

        <!-- Tarjeta de Resultados -->
        <div class="results-card">
            <div class="table-header">
                <div class="results-info">
                    <span id="total-registros" class="total-count">0 registros encontrados</span>
                    <div class="records-per-page">
                        <label>Mostrar:</label>
                        <select id="registros-pagina" class="page-select">
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Tabla -->
            <div class="table-wrapper">
                <table id="tabla-movimientos" class="modern-table">
                    <thead>
                        <tr>
                            <th><i class="fas fa-barcode"></i> Código de Barras</th>
                            <th><i class="fas fa-qrcode"></i> Código Inteligente</th>
                            <th><i class="fas fa-ruler-vertical"></i> Talla</th>
                            <th><i class="fas fa-boxes"></i> Cantidad</th>
                            <th><i class="fas fa-arrow-down"></i> Bodega Destino</th>
                            <th><i class="fas fa-arrow-up"></i> Bodega Origen</th>
                            <th><i class="fas fa-user"></i> Usuario</th>
                            <th><i class="fas fa-exchange-alt"></i> Tipo</th>
                            <th><i class="fas fa-calendar-alt"></i> Fecha</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <!-- Paginador Mejorado -->
            <div class="pagination-container">
                <div id="controles-paginacion" class="pagination">
                    <!-- Los botones se generarán dinámicamente -->
                </div>
                <div class="pagination-info">
                    <span id="info-pagina">Página 1 de 1</span>
                </div>
            </div>
        </div>
    </main>
</div>

<script src="/js/seguimiento.js"></script>
</body>
</html>